// ===================================
// Embedded Data (for file:// protocol support)
// ===================================
const SKILLS_DATA = {
  "meta": {
    "title": "Vibe for 奇绩",
    "description": "使用Claude Code Skill助力奇绩的工作，更高质量，更长期地赋能奇绩校友成长",
    "repoUrl": "https://github.com/MiraclePlus/miracleplus-skills",
    "surveyUrl": "[待添加 - 飞书问卷链接]"
  },
  "categories": [
    "创始人能力与心态",
    "战略决策与市场",
    "产品与用户",
    "商业模式与定价",
    "融资与投资者",
    "团队与组织",
    "研究与分析工具",
    "高级系统思维"
  ],
  "skills": [
    // 创始人能力与心态 (13个)
    {
      "id": "agency-enhancement",
      "name": "Agency Enhancement",
      "description": "提升创始人的主动性和执行力，培养强大的行动力",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/agency-enhancement/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "cognition-agency-integration",
      "name": "Cognition Agency Integration",
      "description": "整合认知能力与行动力，实现知行合一",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/cognition-agency-integration/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "founder-true-passion-assessment",
      "name": "Founder True Passion Assessment",
      "description": "评估创始人对项目的真实热情和长期承诺",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/founder-true-passion-assessment/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "founder-as-chief-architect",
      "name": "Founder as Chief Architect",
      "description": "培养创始人作为公司首席架构师的能力",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/founder-as-chief-architect/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "decision-speed-optimization",
      "name": "Decision Speed Optimization",
      "description": "优化决策速度，在快速变化的环境中保持竞争力",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/decision-speed-optimization/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "beating-analysis-paralysis",
      "name": "Beating Analysis Paralysis",
      "description": "克服分析瘫痪，避免过度思考导致的行动迟缓",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/beating-analysis-paralysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "deep-insight-formation",
      "name": "Deep Insight Formation",
      "description": "培养形成深刻洞察的能力，发现非共识的机会",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/deep-insight-formation/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "verification-ability-training",
      "name": "Verification Ability Training",
      "description": "训练快速验证假设和想法的能力",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/verification-ability-training/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "focus-intensity-framework",
      "name": "Focus Intensity Framework",
      "description": "建立专注力框架，提升工作强度和效率",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/focus-intensity-framework/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "technical-founder-to-businessman",
      "name": "Technical Founder to Businessman",
      "description": "帮助技术创始人转型为全面的商业领导者",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/technical-founder-to-businessman/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "vision-analysis",
      "name": "Vision Analysis",
      "description": "分析和评估创始人的愿景是否清晰和可行",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/vision-analysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "vision-ambition-calibration",
      "name": "Vision Ambition Calibration",
      "description": "校准愿景与野心的平衡，确保目标既远大又可实现",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/vision-ambition-calibration/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "two-week-iteration-discipline",
      "name": "Two Week Iteration Discipline",
      "description": "建立两周迭代的纪律，保持快速执行节奏",
      "type": "built",
      "rating": 5,
      "category": "创始人能力与心态",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/two-week-iteration-discipline/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 战略决策与市场 (15个)
    {
      "id": "b2b-vs-b2c-decision",
      "name": "B2B vs B2C Decision",
      "description": "帮助创始人在B2B和B2C商业模式之间做出正确选择",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/b2b-vs-b2c-decision/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "china-vs-us-market-choice",
      "name": "China vs US Market Choice",
      "description": "分析中美市场差异，帮助选择最适合的目标市场",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/china-vs-us-market-choice/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "market-strategy",
      "name": "Market Strategy",
      "description": "制定全面的市场进入和扩张策略",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/market-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "market-segmentation",
      "name": "Market Segmentation",
      "description": "进行有效的市场细分，找到最佳切入点",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/market-segmentation/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "market-priority-judgment",
      "name": "Market Priority Judgment",
      "description": "判断市场优先级，合理分配资源",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/market-priority-judgment/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "platform-vs-product-positioning",
      "name": "Platform vs Product Positioning",
      "description": "决定是构建平台还是产品，明确定位策略",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/platform-vs-product-positioning/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "vertical-vs-horizontal-strategy",
      "name": "Vertical vs Horizontal Strategy",
      "description": "选择垂直深耕还是横向扩展的战略路径",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/vertical-vs-horizontal-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "civilization-system-thinking",
      "name": "Civilization System Thinking",
      "description": "从文明系统层面思考商业机会和长期趋势",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/civilization-system-thinking/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "inflection-point-detection",
      "name": "Inflection Point Detection",
      "description": "识别行业和技术的拐点，把握关键时机",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/inflection-point-detection/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "historical-pattern-analysis",
      "name": "Historical Pattern Analysis",
      "description": "分析历史模式，预测未来趋势和机会",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/historical-pattern-analysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "opportunity-window-analysis",
      "name": "Opportunity Window Analysis",
      "description": "分析机会窗口的开启和关闭时机",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/opportunity-window-analysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "hardware-first-shot-framework",
      "name": "Hardware First Shot Framework",
      "description": "硬件创业的首发框架，提高成功率",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/hardware-first-shot-framework/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "pivot-decision-framework",
      "name": "Pivot Decision Framework",
      "description": "建立转型决策框架，判断何时需要pivot",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/pivot-decision-framework/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "pivot-timing-decision",
      "name": "Pivot Timing Decision",
      "description": "判断转型的最佳时机，避免过早或过晚",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/pivot-timing-decision/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "new-category-launch-strategy",
      "name": "New Category Launch Strategy",
      "description": "制定新品类推出策略，创造市场需求",
      "type": "built",
      "rating": 5,
      "category": "战略决策与市场",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/new-category-launch-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 产品与用户 (12个)
    {
      "id": "product-assessment",
      "name": "Product Assessment",
      "description": "全面评估产品的市场适配性和竞争力",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/product-assessment/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "product-market-fit-velocity",
      "name": "Product Market Fit Velocity",
      "description": "加速产品市场匹配的过程，缩短验证周期",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/product-market-fit-velocity/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "pmf-validation-framework",
      "name": "PMF Validation Framework",
      "description": "建立PMF验证框架，系统化评估产品市场匹配度",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/pmf-validation-framework/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "user-interview-methodology",
      "name": "User Interview Methodology",
      "description": "掌握有效的用户访谈方法，获取真实需求",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/user-interview-methodology/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "interview-vs-mvp-decision",
      "name": "Interview vs MVP Decision",
      "description": "决定何时进行用户访谈，何时构建MVP",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/interview-vs-mvp-decision/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "user-scenario-problem-unity",
      "name": "User Scenario Problem Unity",
      "description": "统一用户场景和问题定义，确保产品方向正确",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/user-scenario-problem-unity/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "onboarding-optimization",
      "name": "Onboarding Optimization",
      "description": "优化用户引导流程，提升激活率和留存率",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/onboarding-optimization/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "community-growth-strategy",
      "name": "Community Growth Strategy",
      "description": "制定社区增长策略，建立用户生态",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/community-growth-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "do-things-that-dont-scale",
      "name": "Do Things That Don't Scale",
      "description": "在早期阶段做不可扩展的事情，深度理解用户",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/do-things-that-dont-scale/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "low-frequency-trap-diagnosis",
      "name": "Low Frequency Trap Diagnosis",
      "description": "诊断和避免低频使用陷阱，提升产品粘性",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/low-frequency-trap-diagnosis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "designing-user-interfaces",
      "name": "Designing User Interfaces",
      "description": "设计直观易用的用户界面，提升用户体验",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/designing-user-interfaces/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "ethical-product-boundary",
      "name": "Ethical Product Boundary",
      "description": "建立产品的道德边界，确保负责任的创新",
      "type": "built",
      "rating": 5,
      "category": "产品与用户",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/ethical-product-boundary/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 商业模式与定价 (6个)
    {
      "id": "pricing-strategy",
      "name": "Pricing Strategy",
      "description": "制定有效的定价策略，平衡价值和市场接受度",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/pricing-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "consumption-based-monetization",
      "name": "Consumption Based Monetization",
      "description": "设计基于消费的变现模式，提升收入弹性",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/consumption-based-monetization/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "outcome-based-pricing",
      "name": "Outcome Based Pricing",
      "description": "建立基于结果的定价模型，与客户价值对齐",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/outcome-based-pricing/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "gtm-strategy-selection",
      "name": "GTM Strategy Selection",
      "description": "选择最适合的市场进入策略",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/gtm-strategy-selection/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "gtm-channel-strategy",
      "name": "GTM Channel Strategy",
      "description": "制定市场进入的渠道策略，优化获客效率",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/gtm-channel-strategy/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "tob-customization-management",
      "name": "ToB Customization Management",
      "description": "管理ToB业务的定制化需求，平衡标准化和个性化",
      "type": "built",
      "rating": 5,
      "category": "商业模式与定价",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/tob-customization-management/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 融资与投资者 (7个)
    {
      "id": "fundraising-readiness-assessment",
      "name": "Fundraising Readiness Assessment",
      "description": "评估融资准备度，确定最佳融资时机",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/fundraising-readiness-assessment/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "fundraising-pitch-framework",
      "name": "Fundraising Pitch Framework",
      "description": "构建有效的融资路演框架，提升融资成功率",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/fundraising-pitch-framework/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "angel-investor-matching",
      "name": "Angel Investor Matching",
      "description": "匹配合适的天使投资人，建立长期合作关系",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/angel-investor-matching/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "investor-communication-skills",
      "name": "Investor Communication Skills",
      "description": "提升与投资人的沟通技巧，建立信任关系",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/investor-communication-skills/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "term-sheet-negotiation",
      "name": "Term Sheet Negotiation",
      "description": "掌握投资条款谈判技巧，保护创始人权益",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/term-sheet-negotiation/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "post-fundraising-management",
      "name": "Post Fundraising Management",
      "description": "融资后的资金管理和投资人关系维护",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/post-fundraising-management/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "financial-legal-safeguard",
      "name": "Financial Legal Safeguard",
      "description": "建立财务和法律保障机制，规避风险",
      "type": "built",
      "rating": 5,
      "category": "融资与投资者",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/financial-legal-safeguard/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 团队与组织 (8个)
    {
      "id": "team-building-early-stage",
      "name": "Team Building Early Stage",
      "description": "早期团队组建策略，找到合适的联合创始人和核心成员",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/team-building-early-stage/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "hiring-firing-discipline",
      "name": "Hiring Firing Discipline",
      "description": "建立招聘和解雇的纪律，保持团队高效",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/hiring-firing-discipline/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "team-incentive-mechanism",
      "name": "Team Incentive Mechanism",
      "description": "设计有效的团队激励机制，提升凝聚力",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/team-incentive-mechanism/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "culture-as-moat",
      "name": "Culture as Moat",
      "description": "将企业文化打造成竞争壁垒",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/culture-as-moat/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "mission-vision-values-design",
      "name": "Mission Vision Values Design",
      "description": "设计公司的使命、愿景和价值观",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/mission-vision-values-design/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "startup-engine-design",
      "name": "Startup Engine Design",
      "description": "设计创业公司的运营引擎，提升执行效率",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/startup-engine-design/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "person-analyzer",
      "name": "Person Analyzer",
      "description": "深度人物传记分析工具，研究和分析有影响力人物的生命轨迹",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/person-analyzer/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "qi-signal-analysis",
      "name": "Qi Signal Analysis",
      "description": "自动分析Qi Lu的X(Twitter)内容，生成综合报告并发送飞书通知",
      "type": "built",
      "rating": 5,
      "category": "团队与组织",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/qi-signal-analysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 研究与分析工具 (10个)
    {
      "id": "alpha-sight",
      "name": "Alpha Sight",
      "description": "科学研究工程助手，分析arXiv论文并复现代码",
      "type": "built",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/alpha-sight/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "paper-reproducer",
      "name": "Paper Reproducer",
      "description": "复现学术论文的实验和代码，验证研究结果",
      "type": "built",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/paper-reproducer/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "literature-review",
      "name": "Literature Review",
      "description": "使用多个学术数据库进行全面、系统的文献综述",
      "type": "evaluated",
      "rating": 5,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/literature-review/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "scientific-critical-thinking",
      "name": "Scientific Critical Thinking",
      "description": "评估科学声明和证据质量，识别偏差和混淆因素",
      "type": "evaluated",
      "rating": 5,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/scientific-critical-thinking/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "scientific-writing",
      "name": "Scientific Writing",
      "description": "科学论文写作工具，支持IMRAD结构、引文管理和专业格式化",
      "type": "evaluated",
      "rating": 5,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/scientific-writing/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "mermaid-visualizer",
      "name": "Mermaid Visualizer",
      "description": "使用Mermaid创建流程图、时序图等可视化图表",
      "type": "built",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/mermaid-visualizer/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "json-canvas",
      "name": "JSON Canvas",
      "description": "创建和编辑JSON Canvas文件，支持节点、边、分组和连接",
      "type": "evaluated",
      "rating": 5,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/json-canvas/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "obsidian-markdown",
      "name": "Obsidian Markdown",
      "description": "创建和编辑Obsidian风格的Markdown，支持wikilinks、嵌入、callouts等",
      "type": "evaluated",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/obsidian-markdown/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "obsidian-bases",
      "name": "Obsidian Bases",
      "description": "创建和编辑Obsidian Bases文件，支持视图、过滤器、公式和摘要",
      "type": "evaluated",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/obsidian-bases/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MIT License"]
    },
    {
      "id": "excalidraw-diagram",
      "name": "Excalidraw Diagram",
      "description": "使用Excalidraw创建手绘风格的图表和示意图",
      "type": "built",
      "rating": 4,
      "category": "研究与分析工具",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/excalidraw-diagram/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },

    // 高级系统思维 (5个)
    {
      "id": "building-context",
      "name": "Building Context",
      "description": "构建深度上下文理解，提升决策质量",
      "type": "built",
      "rating": 5,
      "category": "高级系统思维",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/building-context/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "language-as-model",
      "name": "Language as Model",
      "description": "将语言作为思维模型，提升抽象思考能力",
      "type": "built",
      "rating": 5,
      "category": "高级系统思维",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/language-as-model/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "scaling-law-application",
      "name": "Scaling Law Application",
      "description": "应用规模化定律，预测增长和优化资源配置",
      "type": "built",
      "rating": 5,
      "category": "高级系统思维",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/scaling-law-application/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "supply-chain-analysis",
      "name": "Supply Chain Analysis",
      "description": "分析供应链结构，识别瓶颈和优化机会",
      "type": "built",
      "rating": 5,
      "category": "高级系统思维",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/supply-chain-analysis/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    },
    {
      "id": "modeling-with-language",
      "name": "Modeling with Language",
      "description": "使用语言进行系统建模，提升问题分析能力",
      "type": "built",
      "rating": 5,
      "category": "高级系统思维",
      "githubUrl": "https://github.com/MiraclePlus/miracleplus-skills/blob/main/modeling-with-language/SKILL.md",
      "docUrl": "[待添加 - 飞书文档]",
      "requirements": ["MiraclePlus Internal"]
    }
  ]
};

// ===================================
// Global State
// ===================================
let allSkills = [];
let filteredSkills = [];
let activeCategories = new Set(['all']);

// ===================================
// Initialize App
// ===================================
document.addEventListener('DOMContentLoaded', () => {
  loadSkillsData();
  setupScrollEffects();
  initSkillsShowcase();
});

// ===================================
// Load Skills Data
// ===================================
async function loadSkillsData() {
  try {
    let data;

    // Try to fetch from JSON file first (for HTTP server)
    try {
      const response = await fetch('data/skills.json');
      if (response.ok) {
        data = await response.json();
      } else {
        throw new Error('Fetch failed');
      }
    } catch (fetchError) {
      // Fallback to embedded data (for file:// protocol)
      console.log('Using embedded data (file:// protocol detected)');
      data = SKILLS_DATA;
    }

    // Update meta information
    updateMetaInfo(data.meta);

    // Store skills
    allSkills = data.skills;
    filteredSkills = [...allSkills];

    // Setup filters
    setupFilters(data.categories);

    // Render skills
    renderSkills(filteredSkills);

    // Update counters
    updateCounters();

    // Animate counters
    animateCounters();

    // Hide loading
    hideLoading();

    // Setup intersection observer for scroll animations
    setupIntersectionObserver();

  } catch (error) {
    console.error('Error loading skills:', error);
    showError('加载Skills数据失败，请刷新页面重试。');
  }
}

// ===================================
// Update Meta Information
// ===================================
function updateMetaInfo(meta) {
  // Update GitHub link
  const githubLink = document.getElementById('githubLink');
  if (meta.repoUrl && meta.repoUrl !== '[待添加]') {
    githubLink.href = meta.repoUrl;
  }

  // Update survey link
  const surveyLink = document.getElementById('surveyLink');
  if (meta.surveyUrl && meta.surveyUrl !== '[待添加 - 飞书问卷链接]') {
    surveyLink.href = meta.surveyUrl;
  }
}

// ===================================
// Setup Filters
// ===================================
function setupFilters(categories) {
  const dropdown = document.getElementById('filterDropdown');
  const trigger = document.getElementById('filterTrigger');
  const panel = document.getElementById('filterPanel');
  const optionsList = document.getElementById('filterOptionsList');
  const searchInput = document.getElementById('filterSearch');
  const selectedTags = document.getElementById('filterSelectedTags');

  // Store category counts
  const categoryCounts = {};
  categories.forEach(cat => {
    categoryCounts[cat] = allSkills.filter(s => s.category === cat).length;
  });

  // Populate options
  categories.forEach((category, index) => {
    const item = document.createElement('div');
    item.className = 'filter-option-item';
    item.dataset.category = category;
    item.innerHTML = `
      <input
        type="checkbox"
        class="filter-option-checkbox"
        id="filter-option-${index}"
        value="${category}"
      />
      <label class="filter-option-label" for="filter-option-${index}">
        ${category}
      </label>
      <span class="filter-option-count">${categoryCounts[category]}</span>
    `;
    optionsList.appendChild(item);

    // Checkbox change handler
    const checkbox = item.querySelector('input');
    checkbox.addEventListener('change', () => {
      handleFilterChange();
    });

    // Click on item to toggle checkbox
    item.addEventListener('click', (e) => {
      if (e.target !== checkbox) {
        checkbox.checked = !checkbox.checked;
        handleFilterChange();
      }
    });
  });

  // Toggle dropdown
  trigger.addEventListener('click', (e) => {
    e.stopPropagation();
    dropdown.classList.toggle('open');
    if (dropdown.classList.contains('open')) {
      searchInput.focus();
    }
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target)) {
      dropdown.classList.remove('open');
    }
  });

  // Search functionality
  searchInput.addEventListener('input', (e) => {
    const searchTerm = e.target.value.toLowerCase().trim();
    const items = optionsList.querySelectorAll('.filter-option-item');
    let hasVisibleItems = false;

    items.forEach(item => {
      const label = item.querySelector('.filter-option-label').textContent.toLowerCase();
      if (label.includes(searchTerm)) {
        item.classList.remove('hidden');
        hasVisibleItems = true;
      } else {
        item.classList.add('hidden');
      }
    });

    // Show empty state if no results
    let emptyState = optionsList.querySelector('.filter-empty-state');
    if (!hasVisibleItems && searchTerm) {
      if (!emptyState) {
        emptyState = document.createElement('div');
        emptyState.className = 'filter-empty-state';
        emptyState.textContent = '未找到匹配的领域';
        optionsList.appendChild(emptyState);
      }
    } else if (emptyState) {
      emptyState.remove();
    }
  });

  // Handle filter changes
  function handleFilterChange() {
    const checkboxes = optionsList.querySelectorAll('.filter-option-checkbox');
    const selected = Array.from(checkboxes)
      .filter(cb => cb.checked)
      .map(cb => cb.value);

    // Update active categories
    activeCategories.clear();
    if (selected.length === 0) {
      activeCategories.add('all');
    } else {
      selected.forEach(cat => activeCategories.add(cat));
    }

    // Update selected tags display
    updateSelectedTags(selected);

    // Apply filters
    applyFilters();
  }

  // Update selected tags display
  function updateSelectedTags(selected) {
    selectedTags.innerHTML = '';

    if (selected.length === 0) {
      // Show "全部"
      const tag = document.createElement('span');
      tag.className = 'filter-tag all';
      tag.textContent = '全部';
      selectedTags.appendChild(tag);
    } else {
      // Show selected categories
      selected.forEach(category => {
        const tag = document.createElement('span');
        tag.className = 'filter-tag';
        tag.innerHTML = `
          ${category}
          <span class="filter-tag-remove" data-category="${category}">
            <svg width="10" height="10" viewBox="0 0 10 10">
              <path d="M2 2l6 6M8 2l-6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </span>
        `;
        selectedTags.appendChild(tag);

        // Remove tag handler
        const removeBtn = tag.querySelector('.filter-tag-remove');
        removeBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          const categoryToRemove = removeBtn.dataset.category;
          const checkbox = optionsList.querySelector(`input[value="${categoryToRemove}"]`);
          if (checkbox) {
            checkbox.checked = false;
            handleFilterChange();
          }
        });
      });
    }
  }
}

// ===================================
// Filter Logic
// ===================================
function applyFilters() {
  if (activeCategories.has('all')) {
    filteredSkills = [...allSkills];
  } else {
    filteredSkills = allSkills.filter(skill =>
      activeCategories.has(skill.category)
    );
  }

  // Re-render skills with animation
  const grid = document.getElementById('skillsGrid');

  // Fade out current cards
  const cards = grid.querySelectorAll('.skill-card');
  cards.forEach(card => card.classList.add('fade-out'));

  // Wait for fade out, then render new cards
  setTimeout(() => {
    renderSkills(filteredSkills);
  }, 300);
}

// ===================================
// Render Skills
// ===================================
function renderSkills(skills) {
  const grid = document.getElementById('skillsGrid');
  grid.innerHTML = '';

  // Sort: built skills first
  const sortedSkills = [...skills].sort((a, b) => {
    if (a.type === 'built' && b.type !== 'built') return -1;
    if (a.type !== 'built' && b.type === 'built') return 1;
    return 0;
  });

  sortedSkills.forEach((skill, index) => {
    const card = createSkillCard(skill);
    card.style.animationDelay = `${index * 50}ms`;
    grid.appendChild(card);
  });
}

// ===================================
// Create Skill Card
// ===================================
function createSkillCard(skill) {
  const card = document.createElement('div');
  card.className = `skill-card ${skill.type}`;

  card.innerHTML = `
    <div class="skill-header">
      <h3 class="skill-name">${skill.name}</h3>
      <p class="skill-description">${skill.description}</p>
    </div>

    <div class="skill-rating">
      <div class="stars">
        ${createStars(skill.rating)}
      </div>
      <span class="rating-value">${skill.rating.toFixed(1)}</span>
    </div>

    <div class="skill-requirements">
      ${skill.requirements.map(req =>
        `<span class="requirement-tag">${req}</span>`
      ).join('')}
    </div>

    <div class="skill-actions">
      <a href="${skill.githubUrl}" class="skill-button" target="_blank" rel="noopener noreferrer">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
        </svg>
        GitHub
      </a>
      <a href="${skill.docUrl}" class="skill-button" target="_blank" rel="noopener noreferrer">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M14 2H10v2h2.586L7.293 9.293l1.414 1.414L14 5.414V8h2V2h-2zM12 14H4V6h4V4H4a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V10h-2v4z"/>
        </svg>
        文档
      </a>
    </div>
  `;

  return card;
}

// ===================================
// Create Star Rating
// ===================================
function createStars(rating) {
  const fullStars = Math.floor(rating);
  const hasHalfStar = rating % 1 >= 0.5;
  const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);

  let starsHTML = '';

  // SVG gradient definition (only add once)
  if (!document.getElementById('starGradient')) {
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.style.position = 'absolute';
    svg.style.width = '0';
    svg.style.height = '0';
    svg.innerHTML = `
      <defs>
        <linearGradient id="starGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#FFD700"/>
          <stop offset="100%" style="stop-color:#FFA500"/>
        </linearGradient>
      </defs>
    `;
    document.body.appendChild(svg);
  }

  // Full stars
  for (let i = 0; i < fullStars; i++) {
    starsHTML += `
      <svg class="star filled" width="20" height="20" viewBox="0 0 20 20">
        <path d="M10 1l2.5 6.5L19 8l-5 4.5L15.5 19 10 15l-5.5 4L6 12.5 1 8l6.5-.5z" fill="url(#starGradient)"/>
      </svg>
    `;
  }

  // Half star (if needed)
  if (hasHalfStar) {
    starsHTML += `
      <svg class="star filled" width="20" height="20" viewBox="0 0 20 20">
        <defs>
          <clipPath id="halfClip">
            <rect x="0" y="0" width="10" height="20"/>
          </clipPath>
        </defs>
        <path d="M10 1l2.5 6.5L19 8l-5 4.5L15.5 19 10 15l-5.5 4L6 12.5 1 8l6.5-.5z" fill="#E2E8F0"/>
        <path d="M10 1l2.5 6.5L19 8l-5 4.5L15.5 19 10 15l-5.5 4L6 12.5 1 8l6.5-.5z" fill="url(#starGradient)" clip-path="url(#halfClip)"/>
      </svg>
    `;
  }

  // Empty stars
  for (let i = 0; i < emptyStars; i++) {
    starsHTML += `
      <svg class="star empty" width="20" height="20" viewBox="0 0 20 20">
        <path d="M10 1l2.5 6.5L19 8l-5 4.5L15.5 19 10 15l-5.5 4L6 12.5 1 8l6.5-.5z" fill="#E2E8F0"/>
      </svg>
    `;
  }

  return starsHTML;
}

// ===================================
// Update Counters
// ===================================
function updateCounters() {
  const builtCount = allSkills.filter(s => s.type === 'built').length;
  const evaluatedCount = allSkills.filter(s => s.type === 'evaluated').length;
  const totalCount = allSkills.length;

  document.getElementById('builtCount').dataset.target = builtCount;
  document.getElementById('evaluatedCount').dataset.target = evaluatedCount;
  document.getElementById('totalCount').dataset.target = totalCount;
}

// ===================================
// Animate Counters
// ===================================
function animateCounters() {
  const counters = document.querySelectorAll('.counter');

  counters.forEach(counter => {
    const target = parseInt(counter.dataset.target);
    animateValue(counter, 0, target, 1500);
  });
}

function animateValue(element, start, end, duration) {
  const startTime = performance.now();

  function update(currentTime) {
    const elapsed = currentTime - startTime;
    const progress = Math.min(elapsed / duration, 1);

    // Easing function (ease-out)
    const easeOut = 1 - Math.pow(1 - progress, 3);
    const current = Math.floor(start + (end - start) * easeOut);

    element.textContent = current;

    if (progress < 1) {
      requestAnimationFrame(update);
    } else {
      element.textContent = end;
    }
  }

  requestAnimationFrame(update);
}

// ===================================
// Scroll Effects
// ===================================
function setupScrollEffects() {
  const filterBar = document.getElementById('filterBar');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
      filterBar.classList.add('scrolled');
    } else {
      filterBar.classList.remove('scrolled');
    }
  });
}

// ===================================
// Intersection Observer for Cards
// ===================================
function setupIntersectionObserver() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  });

  // Observe all skill cards
  document.querySelectorAll('.skill-card').forEach(card => {
    observer.observe(card);
  });
}

// ===================================
// Loading & Error Handling
// ===================================
function hideLoading() {
  const loading = document.getElementById('loading');
  loading.classList.add('hidden');
}

function showError(message) {
  const loading = document.getElementById('loading');
  loading.innerHTML = `
    <div style="text-align: center; color: var(--gray-700);">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <p style="margin-top: 1rem; font-size: 1.1rem; font-weight: 600;">${message}</p>
      <button onclick="location.reload()" style="
        margin-top: 1.5rem;
        padding: 0.75rem 2rem;
        background: var(--qi-blue);
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
      ">刷新页面</button>
    </div>
  `;
}

// ===================================
// Utility Functions
// ===================================
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// ===================================
// Skills Showcase Animation
// ===================================
function initSkillsShowcase() {
  const spinner = document.getElementById('skillsSpinner');
  const textElement = document.getElementById('skillsText');

  if (!spinner || !textElement) return;

  // Spinner frames (Claude Code flower sequence)
  const spinnerFrames = ['·', '✻', '✽', '✶', '✳', '✢'];
  let spinnerIndex = 0;

  // Skills data - updated with all 76 skills
  const skills = [
    { name: 'Agency Enhancement', type: 'built' },
    { name: 'Cognition Agency Integration', type: 'built' },
    { name: 'Founder True Passion Assessment', type: 'built' },
    { name: 'B2B vs B2C Decision', type: 'built' },
    { name: 'Product Assessment', type: 'built' },
    { name: 'Pricing Strategy', type: 'built' },
    { name: 'Fundraising Readiness Assessment', type: 'built' },
    { name: 'Team Building Early Stage', type: 'built' },
    { name: 'Alpha Sight', type: 'built' },
    { name: 'Building Context', type: 'built' },
    { name: 'Literature Review', type: 'evaluated' },
    { name: 'Scientific Critical Thinking', type: 'evaluated' },
    { name: 'JSON Canvas', type: 'evaluated' },
    { name: 'Obsidian Markdown', type: 'evaluated' }
  ];

  let currentSkillIndex = 0;
  let isAnimating = false;

  // Spinner animation (continuous)
  setInterval(() => {
    spinner.textContent = spinnerFrames[spinnerIndex];
    spinnerIndex = (spinnerIndex + 1) % spinnerFrames.length;
  }, 100);

  // Typewriter effect
  async function typewriterEffect(text, type) {
    if (isAnimating) return;
    isAnimating = true;

    // Set text style based on type
    textElement.className = `skills-text ${type}`;
    textElement.textContent = '';

    // Type out characters
    for (let i = 0; i < text.length; i++) {
      textElement.textContent += text[i];
      await sleep(randomBetween(50, 80));
    }

    // Pause when complete
    await sleep(1500);

    // Erase characters (reverse)
    for (let i = text.length; i > 0; i--) {
      textElement.textContent = text.substring(0, i - 1);
      await sleep(30);
    }

    // Small pause before next
    await sleep(300);

    isAnimating = false;
  }

  // Main animation loop
  async function animationLoop() {
    while (true) {
      const skill = skills[currentSkillIndex];
      await typewriterEffect(skill.name, skill.type);
      currentSkillIndex = (currentSkillIndex + 1) % skills.length;
    }
  }

  // Utility functions
  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  function randomBetween(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  // Start animation after page load
  setTimeout(() => {
    animationLoop();
  }, 1000);
}
